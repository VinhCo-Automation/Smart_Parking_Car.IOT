<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Firebase Realtime Database Demo</title>
  
  <!-- Thêm Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database.js"></script>

  <script>
    // Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyDi1gTt2xyj8VRmKWN8EyaHsroazh--2jg",
      authDomain: "smart-parking-car-iot.firebaseapp.com",
      databaseURL: "https://smart-parking-car-iot-default-rtdb.firebaseio.com",
      projectId: "smart-parking-car-iot",
      storageBucket: "smart-parking-car-iot.firebasestorage.app",
      messagingSenderId: "603168335075",
      appId: "1:603168335075:web:ab5b3ad4712203a5a811d6",
      measurementId: "G-Q5D2KJN408"
    };

    // Khởi tạo Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    // Hàm hiển thị dữ liệu từ Firebase
    function displayData(snapshot) {
      const data = snapshot.val();
      if (data && data.send_python) {
        const humidity = data.send_python.Humidity;
        const temperature = data.send_python.Temperature;
        document.getElementById('data').innerHTML = `Humidity: ${humidity}% | Temperature: ${temperature}°C`;
      } else {
        document.getElementById('data').innerHTML = 'No data available.';
      }
    }

    // Lắng nghe thay đổi dữ liệu từ Firebase Realtime Database
    const dataRef = database.ref('send_python'); // Truy cập vào node send_python
    dataRef.on('value', (snapshot) => {
      displayData(snapshot);
    });
  </script>
</head>
<body>
  <h1>Firebase Realtime Database Demo</h1>
  <div id="data">Loading...</div>
</body>
</html>
